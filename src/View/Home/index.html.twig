{% extends 'layout.html.twig' %}

{% block content %}
    <body>
    <div class="cé-navbar">
        <img class="cé-bagnole" src="assets/images/bagnole.png" alt="bagnole">
    </div>

    <div class="cé-headercontainer">
        <img src="assets/images/bigard.png" alt="bigard" class="cé-bigard">
        <img src="assets/images/johnny.png" alt="johnny" class="cé-johnny">
        <img src="assets/images/patoche.png" alt="patoche" class="cé-patoche">
        <img src="assets/images/socks.webp" alt="socks" class="cé-socks">
        <img src="assets/images/tshirt.webp" alt="tshirt" class="cé-tshirt">
        <img src="assets/images/vincentlagaf.png" alt="lagaf" class="cé-lagaf">
        <img src="/assets/images/casque.webp" alt="casque" class="cé-casque">
        <img src="/assets/images/bobricard.webp" alt="bob" class="cé-bobricard">
        <img src="/assets/images/sacricard.webp" alt="sac" class="cé-sacricard">
        <img src="/assets/images/picole.webp" alt="picole" class="cé-picole">
        <h1 class="cé-headertitle">CÉOUKONVA ??</h1>
    </div>

    <div class="backgroundQuestions">
        <div class="cé-img-para">
            <img src="/assets/images/ricardlogo.png" alt="" class="cé-ricardlogo">
            <img src="/assets/images/faisceau.png" class="cé-faisceau">
            <img src="/assets/images/hands.png" alt="hands" class="cé-mains">
            <canvas id="canvasricard" width="50" height="400">
                <svg id="cé-ricard-flow">
                    <rect class="cé-ricard-flow" fill="#F2D44A" width="30" height="10" rx="50" />
                </svg>
            </canvas>
        </div>
        <p>Nulla hendrerit accumsan odio, aliquet vulputate tellus maximus ac. Curabitur euismod finibus ullamcorper. Donec vel ex nec lacus semper gravida eget a quam. Praesent at ligula sit amet enim hendrerit varius. Aenean ac lacus nulla. Proin faucibus quis purus quis sagittis. Etiam eu elit ut risus dapibus consequat ac ac lacus. Nam efficitur eros non viverra laoreet. Vestibulum nec consectetur nisi, quis tincidunt eros. Aenean condimentum erat quis urna efficitur, ut fringilla neque volutpat. Suspendisse mauris dolor, porta eget nisi quis, tempor laoreet enim. Fusce nulla dolor, varius laoreet aliquet nec, maximus sit amet sem. Aliquam aliquet ex vitae gravida feugiat. Donec vitae elementum urna, vitae elementum sem. Vestibulum vulputate, diam euismod scelerisque scelerisque, tellus risus malesuada turpis, et aliquam ex leo eget mauris.</p>
        <h1>CéKOIKéMIEU ?</h1>
        <form method="post" action="/map">
            <div class="containerQuestionsGlobal">
        <div class="containerQuestions questions1">
            <div class="jonhyGlobal questionGlobal">
                <input type="checkbox" class="checkbox" value="jonhy">
                <label class="btn jonhy orange">Jonhy</label>
                <img class="jonhyImage" src="/assets/images/cursorJonhy.png" alt="">
            </div>
            <div class="sardouGlobal questionGlobal">
                <input type="checkbox" class="checkbox" value="sardou">
                <label class="btn sardou jaune">Sardou</label>
                <img class="sardouImage" src="/assets/images/cursorSardou.png" alt="">
            </div>
        </div>
                <div class="containerQuestions questions1">
                    <div class="claquetteGlobal questionGlobal">
                        <input type="checkbox" class="checkbox" value="claquette">
                        <label class="btn claquette orange">Claquettes</label>
                        <img class="claquetteImage" src="/assets/images/claquettes.png" alt="">
                    </div>
                    <div class="slipGlobal questionGlobal">
                        <input type="checkbox" class="checkbox" value="slip">
                        <label class="btn slip jaune">Slip</label>
                        <img class="slipImage" src="/assets/images/slip.png" alt="">
                    </div>
                </div>
            <div class="containerQuestions questions1">
                        <div class="muletGlobal questionGlobal">
                            <input type="checkbox" class="checkbox" value="mulet">
                            <label class="btn mulet orange">Mulet</label>
                            <img class="muletImage" src="/assets/images/mulet.png" alt="">
                        </div>
                        <div class="bobGlobal questionGlobal">
                            <input type="checkbox" class="checkbox" value="bob">
                            <label class="btn bob jaune">Bob</label>
                            <img class="bobImage" src="/assets/images/bob.png" alt="">
                        </div>
            </div>
            <div class="containerQuestions questions1">
                            <div class="biereGlobal questionGlobal">
                                <input type="checkbox" class="checkbox" value="biere">
                                <label class="btn biere orange">Bière</label>
                                <img class="biereImage" src="/assets/images/biere.png" alt="">
                            </div>
                            <div class="ricardGlobal questionGlobal">
                                <input type="checkbox" class="checkbox" value="ricard">
                                <label class="btn ricard jaune">Ricard</label>
                                <img class="ricardImage" src="/assets/images/ricard.png" alt="">
                            </div>
                        </div>
            </div>
            <div class="buttonSubmit"></div>
            <button class="submit wobble-hor-bottom" type="submit">Envoyer</button>
    </form>
        <div class="cé-tray">
            <img class="cé-drag-sausage-raw cé-drag-sausage-raw-1" src="assets/images/saucisse-crue.png">
            <img class="cé-drag-sausage-raw cé-drag-sausage-raw-2" src="assets/images/saucisse-crue.png">
            <img class="cé-drag-sausage-raw cé-drag-sausage-raw-3" src="assets/images/saucisse-crue.png">
        </div>
    </div>
    <img src="/assets/images/ricardplein.png" class="cé-ricard-plein">
        <div class="cé-flammes">
            <img src="assets/images/fire.gif">
            <img src="assets/images/fire.gif">
            <img src="assets/images/fire.gif">
        </div>
    </body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/Flip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/Observer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollToPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/Draggable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/EaselPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/MotionPathPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/PixiPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/TextPlugin.min.js"></script>
    <script>
        let audioplay = new Audio('assets/images/klaxon.mp3')

        function letsplay(){
            audioplay.play()
            setInterval(function() {
                audioplay.play();
            }, 3000);
        }
        let tl = gsap.timeline({defaults: {repeat: -1,repeatDelay: 5}})
        tl.from(".cé-bagnole", {xPercent: 800,duration: 3})
        tl.call(function(){
            setInterval(function() {
                audioplay.play();
            }, 8000);
        });
        gsap.to(".cé-bigard", {
            rotation: 50,
            repeat: -1,
            ease: "none",
            yoyo: true
        });

        gsap.to(".cé-johnny", {
            rotation: 20,
            repeat: -1,
            ease: "none",
            yoyo: true
        });

        gsap.to(".cé-patoche", {
            rotation: 30,
            repeat: -1,
            ease: "none",
            yoyo: true
        });

        gsap.to(".cé-socks", {
            rotation: 25,
            repeat: -1,
            ease: "none",
            yoyo: true
        });

        gsap.to(".cé-tshirt", {
            rotation: 10,
            repeat: -1,
            ease: "none",
            yoyo: true
        });

        gsap.to(".cé-lagaf", {
            rotation: 50,
            repeat: -1,
            ease: "none",
            yoyo: true
        });

        gsap.to(".cé-casque", {
            rotation: 10,
            repeat: -1,
            ease: "none",
            yoyo: true
        });

        gsap.to(".cé-bobricard", {
            rotation: 30,
            repeat: -1,
            ease: "none",
            yoyo: true
        });

        gsap.to(".cé-sacricard", {
            rotation: 20,
            repeat: -1,
            ease: "none",
            yoyo: true
        });

        gsap.to(".cé-picole", {
            rotation: 30,
            repeat: -1,
            ease: "none",
            yoyo: true
        });

        let timelineRicardLogo = gsap.timeline({
            scrollTrigger: {
                trigger: ".cé-ricardlogo",
                toggleActions: "play none none reverse"
            },});

        timelineRicardLogo.to(".cé-ricardlogo", {

            xPercent: 10,
            rotation: 360,
            duration: 4,
            width: 300,
            ease: "power1.inOut"
        });
        timelineRicardLogo.to(".cé-mains", {
            opacity: 1,
            duration: 1,
        }, ">-0.5");
        timelineRicardLogo.to(".cé-faisceau", {
            opacity: 1,
            duration: 1,
        }, "<")
        timelineRicardLogo.to(".cé-ricard-flow", {
            opacity: 1,
            duration: 0.5,
        }, ">-0.5");
        const canvas = document.getElementById("canvasricard");
        const ctx = canvas.getContext("2d");
        let position = { x: 0, y: 0 };
        ctx.fillStyle = "#F2D44A";
        function draw() {
            // erase the canvas
            ctx.clearRect(0, 0, 0, 0);
            // redraw the square at it's new position
            ctx.fillRect(position.x, position.y, 50, 50);
            //ctx.beginPath();                 // clear current path
            //ctx.arc(15, 15, 10, 0, 2 * Math.PI);   // apply arguments to arc() call
            //ctx.fill();
        }
        timelineRicardLogo.to(position, {
                x: 0,
                y: 600,
                duration: 6,
                // unlike DOM elements, canvas needs to be redrawn and cleared on every tick
                onUpdate: draw
            });
        gsap.to(".cé-ricard-flow", {
            attr: {
                rx: 50
            }
        })
        /*gsap.to(".parallax", {
            scrollTrigger: {
                scrub: true
            },
            y: (i, target) => -ScrollTrigger.maxScroll(window) * target.dataset.speed,
            ease: "none"
        });*/
        /*gsap.to(".cé-lunettes", {
            rotation: 90,
            duration: 1,
            scrollTrigger: {
                trigger: "backgroundQuestions",
                scrub: 2
            },
            y: (i, target) => -ScrollTrigger.maxScroll(window) * target.dataset.speed,
            ease: "none"
        });

        gsap.to(".cé-calbut", {
            rotation: -90,
            duration: 1,
            scrollTrigger: {
                trigger: "backgroundQuestions",
                scrub: 2
            }
        });*/
        Draggable.create(".cé-drag-sausage-raw-1", {
            onDragEnd: function() {
                gsap.to(".cé-drag-sausage-raw-1", {
                    rotation: 360,
                    repeat: 2,
                    ease: 'none',
                    duration: 2,
                    onComplete: function() {
                        document.querySelector(".cé-drag-sausage-raw-1").src="assets/images/saucissecuite.png"
                    }
                });
            }
        });
        Draggable.create(".cé-drag-sausage-raw-2", {
            onDragEnd: function() {
                gsap.to(".cé-drag-sausage-raw-2", {
                    rotation: 360,
                    repeat: 2,
                    ease: 'none',
                    duration: 2,
                    onComplete: function() {
                        document.querySelector(".cé-drag-sausage-raw-2").src="assets/images/saucissecuite.png"
                    }
                });
            }
        });
        Draggable.create(".cé-drag-sausage-raw-3", {
            onDragEnd: function() {
                gsap.to(".cé-drag-sausage-raw-3", {
                    rotation: 360,
                    repeat: 2,
                    ease: 'none',
                    duration: 2,
                    onComplete: function() {
                        document.querySelector(".cé-drag-sausage-raw-3").src="assets/images/saucissecuite.png"
                    }
                });
            }
        });
    </script>
{% endblock %}
